# 颜色选择器功能说明

## 概述
UI.py 现在为对话框设置和字幕设置添加了直观的颜色选择器组件，替换了原来繁琐的RGB分项数值输入。

## 新功能特性

### 颜色选择器组件 (ColorPickerWidget)
- **可视化颜色预览**：通过颜色按钮直观显示当前颜色
- **点击选择**：点击颜色按钮打开系统颜色选择对话框
- **数值调节**：保留RGB/RGBA数值输入框，支持精确调节
- **透明度支持**：可选择是否支持Alpha通道（透明度）
- **实时同步**：颜色选择器和数值输入框实时同步更新

### 对话框设置 (create_user_input_tab)
现在分为两个组：

#### 基础设置组
- 窗口宽度/高度
- 字体设置
- 边框圆角

#### 颜色设置组
- **背景颜色**：支持RGBA（含透明度）
- **文字颜色**：RGB设置
- **边框颜色**：RGB设置  
- **输入框背景颜色**：支持RGBA（含透明度）

### 字幕设置 (create_subtitle_tab)
现在分为两个组：

#### 基础设置组
- 字体、字体大小、粗体
- 文本框尺寸
- 内边距、边框半径
- 动画时间设置

#### 字幕颜色设置组
- **文本颜色**：支持RGBA（文字颜色和透明度）
- **轮廓颜色**：支持RGBA（描边颜色和透明度）
- **背景颜色**：支持RGBA（字幕背景和透明度）

## 使用方法

### 通过颜色按钮选择
1. 点击颜色预览按钮
2. 在打开的颜色选择对话框中选择颜色
3. 确认后自动更新到配置

### 通过数值输入
1. 直接在R、G、B、A输入框中修改数值
2. 颜色预览按钮会实时更新显示效果

### 颜色预览
- **RGB颜色**：显示为纯色块，自动调整文字颜色以确保可读性
- **RGBA颜色**：显示棋盘背景效果，直观显示透明度

## 配置保存
- 颜色选择器的值会在保存配置时自动转换为传统的RGB/RGBA分项值
- 保持与现有配置文件格式的完全兼容
- 加载配置时自动将分项值合并到颜色选择器

## 技术实现
- 使用PyQt5的QColorDialog进行颜色选择
- 自定义ColorPickerWidget组件封装颜色选择逻辑
- 在collect_values方法中处理颜色选择器到配置的转换
- 支持实时预览和双向数据绑定

## 优势
1. **用户体验**：直观的颜色选择，所见即所得
2. **兼容性**：完全兼容现有配置格式
3. **灵活性**：既支持可视化选择，也支持精确数值调节
4. **透明度**：清晰显示透明度效果
5. **实时预览**：即时查看颜色效果
